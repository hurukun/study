<!DOCTYPE html>
<html>
<head></head>
<body>
    <script type="text/javascript">
    window.addEventListener('message', function(event){
        // 通过origin属性判断消息来源地址
        if (event.origin == 'http://localhost') {
            alert(event.data);    // 弹出"I was there!"
            alert(event.source);  // 对a.com、index.html中window对象的引用
                                  // 但由于同源策略，这里event.source不可以访问window对象
            parent.postMessage( 'message from the iframe', '*' );
        }
    }, false);
</script>
</body>
</html>